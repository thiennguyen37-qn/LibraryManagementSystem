{% extends "base.html" %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container mt-4">

  <h2 class="mb-3">üîç T√¨m ki·∫øm s√°ch</h2>
  <form method="get" action="{{ url_for('show_books') }}" class="mb-4">
    <div class="input-group">
      <input type="text" class="form-control" name="q" placeholder="Nh·∫≠p t√™n s√°ch ho·∫∑c t√°c gi·∫£" value="{{ keyword }}">
      <button class="btn btn-outline-primary" type="submit">T√¨m</button>
    </div>
  </form>

  <h2 class="mb-3">üìö S√°ch c√≥ s·∫µn</h2>
  <ul class="list-group mb-4">
    {% for book in books %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <strong>{{ book.title }}</strong> ‚Äì {{ book.author }} ({{ book.n_pages }} trang)
        </div>
        <a href="/loan/{{ book.title }}" class="btn btn-sm btn-success"
           onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën m∆∞·ª£n s√°ch n√†y kh√¥ng?');">M∆∞·ª£n</a>
      </li>
    {% else %}
      <li class="list-group-item">Kh√¥ng c√≥ s√°ch n√†o s·∫µn s√†ng.</li>
    {% endfor %}
  </ul>

  <h2 class="mb-3">üìï S√°ch ƒë√£ m∆∞·ª£n</h2>
  <ul class="list-group mb-4">
    {% for book in borrowed %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <strong>{{ book.title }}</strong> ‚Äì {{ book.author }} ({{ book.n_pages }} trang)
        </div>
        <a href="/return/{{ book.title }}" class="btn btn-sm btn-warning"
           onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën tr·∫£ s√°ch n√†y kh√¥ng?');">Tr·∫£</a>
      </li>
    {% else %}
      <li class="list-group-item">B·∫°n ch∆∞a m∆∞·ª£n quy·ªÉn n√†o.</li>
    {% endfor %}
  </ul>

  <a href="{{ url_for('home') }}" class="btn btn-secondary">‚¨Ö V·ªÅ trang ch·ªß</a>
</div>
{% endblock %}
